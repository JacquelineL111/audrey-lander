<!DOCTYPE html><!--  This site was created in Webflow. https://www.webflow.com  -->
<!--  Last Published: Tue Aug 22 2023 14:50:50 GMT+0000 (Coordinated Universal Time)  -->
<html data-wf-page="64d3b54288958279228a1414" data-wf-site="64d3b54288958279228a1401">
<head>
	<meta charset="utf-8">
	<title>ibp-sephora-brand-page</title>
	<meta content="width=device-width, initial-scale=1" name="viewport">
	<meta content="Webflow" name="generator">
	<link href="css/normalize.css" rel="stylesheet" type="text/css">
	<link href="css/webflow.css" rel="stylesheet" type="text/css">
	<link href="css/ibp-sephora-brand-page.webflow.css" rel="stylesheet" type="text/css">
	<script type="text/javascript">!function(o,c){var n=c.documentElement,t=" w-mod-";n.className+=t+"js",("ontouchstart"in o||o.DocumentTouch&&c instanceof DocumentTouch)&&(n.className+=t+"touch")}(window,document);</script>
	<link href="images/favicon.png" rel="shortcut icon" type="image/x-icon">
	<link href="images/webclip.png" rel="apple-touch-icon">
	<link rel="preload" as="image" href="/images/Bright--smooth-2000x2000-04.jpg">
	<link rel="preload" as="image" href="/images/Homepage-banner---mobile-01.jpg">
	<link rel="preload" as="image" href="/images/bronze-body-glow-01.jpg">
	<link rel="preload" as="image" href="/images/Bright_tight_1300x1300_11.webp">
	<link rel="preload" as="image" href="/images/Greenmachine_1350x1350_01.webp">
	<link rel="preload" as="image" href="/images/GI9qi1AiRfqTvskBBOTe_LBm8oGW2BUv9lEOY.png">
</head>
<body>
	<nav>
		<div class="div-block">
			<a href="https://www.sephora.com/brand/innbeauty-project" target="_blank" class="div-block-2 w-inline-block"><img src="images/ibp-logo.png" loading="lazy" sizes="180px" srcset="images/ibp-logo-p-500.png 500w, images/ibp-logo-p-800.png 800w, images/ibp-logo-p-1080.png 1080w, images/ibp-logo.png 1600w" alt=""></a>
		</div>
	</nav>
	<script src="https://d3e54v103j8qbb.cloudfront.net/js/jquery-3.5.1.min.dc5e7f18c8.js?site=64d3b54288958279228a1401" type="text/javascript" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
	<script src="js/webflow.js" type="text/javascript"></script>
	<script type="text/javascript">
		var revieveConfig = {
		partner_id: 'xElwp9MNeW',
		experienceId: 'experience demo',
		locale: 'en',
		env: 'prod', // for test env. Change to prod for production deployment
		avoidCookies: false, // this is by default false and can be changed to true to avoid cookies
		// Set disableLauncherButton to true on the pages
		// where you want to hide the default advisor launcher button
		disableLauncherButton: true,
		onAddToCart: function (products) {
			// To be filled in by innbeauty
			if (Array.isArray(products)) {
				// Array means we got multiple products (add all to cart)
				console.log("User clicked add all cart. Adding all products to shopping cart.");
				console.log(products);
			} else {
				// Single object means we got one product (add to cart)
				console.log("User clicked add to cart. Adding the product to shopping cart.");
				console.log(products);
			}
		},

		onDisplayProducts: function (data) {
			Revieve.API.getAdvisorData(data => {

				if (data.data.data.activeSelections.email !== undefined) {
					if (data.data.data.cvData !== undefined) {
						Properties = {
							overall_name: data.data.data.cvData[0].name,
							overall: data.data.data.cvData[0].value,
							cv_1_name: data.data.data.cvData[1].name,
							cv_1_value: data.data.data.cvData[1].value,
							cv_2_name: data.data.data.cvData[2].name,
							cv_2_value: data.data.data.cvData[2].value,
							cv_3_name: data.data.data.cvData[3].name,
							cv_3_value: data.data.data.cvData[3].value,
							cv_4_name: data.data.data.cvData[4].name,
							cv_4_value: data.data.data.cvData[4].value,
							cv_5_name: data.data.data.cvData[5].name,
							cv_5_value: data.data.data.cvData[5].value,
							cv_6_name: data.data.data.cvData[6].name,
							cv_6_value: data.data.data.cvData[6].value,
							cv_7_name: data.data.data.cvData[7].name,
							cv_7_value: data.data.data.cvData[7].value,
							cv_8_name: data.data.data.cvData[8].name,
							cv_8_value: data.data.data.cvData[8].value,
							cv_9_name: data.data.data.cvData[9].name,
							cv_9_value: data.data.data.cvData[9].value,
							cv_10_name: data.data.data.cvData[10].name,
							cv_10_value: data.data.data.cvData[10].value,
							cv_11_name: data.data.data.cvData[11].name,
							cv_11_value: data.data.data.cvData[11].value,
							cv_12_name: data.data.data.cvData[12].name,
							cv_12_value: data.data.data.cvData[12].value,
							cv_13_name: data.data.data.cvData[13].name,
							cv_13_value: data.data.data.cvData[13].value,

							product_Title_1: data.data.data.products["Your routine"].standard[0].name,
							product_url_1: JSON.stringify(data.data.data.products["Your routine"].standard[0].url),
							product_image_1: data.data.data.products["Your routine"].standard[0].image,
							product_category_1: data.data.data.products["Your routine"].standard[0].category,
							product_price_1: data.data.data.products["Your routine"].standard[0].price,
							product_description_1: data.data.data.products["Your routine"].standard[0].description,

							product_Title_2: data.data.data.products["Your routine"].standard[1].name,
							product_url_2: JSON.stringify(data.data.data.products["Your routine"].standard[1].url),
							product_image_2: data.data.data.products["Your routine"].standard[1].image,
							product_category_2: data.data.data.products["Your routine"].standard[1].category,
							product_price_2: data.data.data.products["Your routine"].standard[1].price,
							product_description_2: data.data.data.products["Your routine"].standard[1].description,

							product_Title_3: data.data.data.products["Your routine"].standard[2].name,
							product_url_3: JSON.stringify(data.data.data.products["Your routine"].standard[2].url),
							product_image_3: data.data.data.products["Your routine"].standard[2].image,
							product_category_3: data.data.data.products["Your routine"].standard[2].category,
							product_price_3: data.data.data.products["Your routine"].standard[2].price,
							product_description_3: data.data.data.products["Your routine"].standard[2].description,

							product_Title_4: data.data.data.products["Your routine"].standard[3].name,
							product_url_4: JSON.stringify(data.data.data.products["Your routine"].standard[3].url),
							product_image_4: data.data.data.products["Your routine"].standard[3].image,
							product_category_4: data.data.data.products["Your routine"].standard[3].category,
							product_price_4: data.data.data.products["Your routine"].standard[3].price,
							product_description_4: data.data.data.products["Your routine"].standard[3].description,


							email: data.data.data.activeSelections.email,
							name: data.data.data.activeSelections.name,
							age: data.data.data.activeSelections.age,
							skin_concerns: data.data.data.activeSelections.skin_concerns,
							products_used: data.data.data.activeSelections.products_used,
							eye_care: data.data.data.activeSelections.eye_care,
							selfie_consent: data.data.data.activeSelections.selfie_consent,
							selfieSource: data.data.data.activeSelections.selfieSource,
							eyebags: data.data.data.activeSelections.eyebags,
							darkspots: data.data.data.activeSelections.darkspots,
							wrinkles: data.data.data.activeSelections.wrinkles


						}
					}
					else {
						Properties = {
							product_Title_1: data.data.data.products["Your routine"].standard[0].name,
							product_url_1: JSON.stringify(data.data.data.products["Your routine"].standard[0].url),
							product_image_1: data.data.data.products["Your routine"].standard[0].image,
							product_category_1: data.data.data.products["Your routine"].standard[0].category,
							product_price_1: data.data.data.products["Your routine"].standard[0].price,
							product_description_1: data.data.data.products["Your routine"].standard[0].description,

							product_Title_2: data.data.data.products["Your routine"].standard[1].name,
							product_url_2: JSON.stringify(data.data.data.products["Your routine"].standard[1].url),
							product_image_2: data.data.data.products["Your routine"].standard[1].image,
							product_category_2: data.data.data.products["Your routine"].standard[1].category,
							product_price_2: data.data.data.products["Your routine"].standard[1].price,
							product_description_2: data.data.data.products["Your routine"].standard[1].description,

							product_Title_3: data.data.data.products["Your routine"].standard[2].name,
							product_url_3: JSON.stringify(data.data.data.products["Your routine"].standard[2].url),
							product_image_3: data.data.data.products["Your routine"].standard[2].image,
							product_category_3: data.data.data.products["Your routine"].standard[2].category,
							product_price_3: data.data.data.products["Your routine"].standard[2].price,
							product_description_3: data.data.data.products["Your routine"].standard[2].description,

							product_Title_4: data.data.data.products["Your routine"].standard[3].name,
							product_url_4: JSON.stringify(data.data.data.products["Your routine"].standard[3].url),
							product_image_4: data.data.data.products["Your routine"].standard[3].image,
							product_category_4: data.data.data.products["Your routine"].standard[3].category,
							product_price_4: data.data.data.products["Your routine"].standard[3].price,
							product_description_4: data.data.data.products["Your routine"].standard[3].description,


							email: data.data.data.activeSelections.email,
							name: data.data.data.activeSelections.name,
							age: data.data.data.activeSelections.age,
							skin_concerns: data.data.data.activeSelections.skin_concerns,
							products_used: data.data.data.activeSelections.products_used,
							eye_care: data.data.data.activeSelections.eye_care,
							selfie_consent: data.data.data.activeSelections.selfie_consent,
							selfieSource: data.data.data.activeSelections.selfieSource,
							eyebags: data.data.data.activeSelections.eyebags,
							darkspots: data.data.data.activeSelections.darkspots,
							wrinkles: data.data.data.activeSelections.wrinkles
						}
					}
				}
				else {
					Properties = null;
				}

				console.log('properties:', Properties);

				let options = {
					method: 'POST',
					headers: {
						revision: '2025-01-15',
						'content-type': 'application/json'
					},
					body: JSON.stringify({
						data: {
							type: 'subscription',
							attributes: {
								profile: {
									data: {
										type: "profile",
										"attributes": {
											email: data.data.data.activeSelections.email,
											properties: Properties
										}
									}
								},
								custom_source: 'Revieve'
							},
							relationships: {
								list: {
									data: {
										type: "list",
										id: "TC6xUk"
									}
								}
							}
						}
					})
				};
				fetch('https://a.klaviyo.com/client/subscriptions/?company_id=HEwgpW',
					options)
					.then(response => response)
					.then(response => console.log(response))
					.catch(err => console.error(err));
				let optionsII = {
					method: 'POST',
					headers: {
						accept: 'application/json',
						revision: '2025-01-15',
						'content-type': 'application/json'
					},
					body: JSON.stringify({
						data: {
							type: 'event',
							attributes: {
								properties: Properties,
								metric: {
									data: {
										type: "metric",
										attributes: {
											name: "viewed product"
										}
									}
								},
								profile: {
									data: {
										type: "profile",
										attributes: {
											email: data.data.data.activeSelections.email
										}
									}
								},
							}
						}
					})
				};
				fetch('https://a.klaviyo.com/client/events/?company_id=HEwgpW', optionsII)
					.then(response => console.log(response))
					.catch(err => console.error(err));

			})
		},
		onClose: function () {
			// User closed modal. Here you could forward them to checkout if they had
			// added products (onAddToCart was called before).
			console.log('User clicked close');
		},
		onCheckout: function (data) {
			// User clicked the checkout button that is visible on results page
			// after adding one or more products to cart. Redirect to checkout page?
			console.log('User clicked checkout');
		},
		onClickProduct: function (product, source) {
			// To be filled in by innbeauty.
			console.log("User clicked info action.");
			console.log(product, source);
			var win = window.open(product.url, '_blank');
			win.focus();
		},
	};

	(function () {
		var rv = document.createElement('script');
		rv.src = 'https://cdn.revieve.com/revieve-plugin-v4/revieve-plugin-loader.js';
		rv.charset = 'utf-8';
		rv.type = 'text/javascript';
		rv.async = 'true';
		rv.onload = rv.onreadystatechange = function () {
			var rs = this.readyState;
			if (rs && rs != 'complete' && rs != 'loaded') return;
			Revieve.Init(revieveConfig, function () {
				// Comment out the below line if you want to open the modal
				// manually when user clicks a certain button or navigates
				// to certain page.
				Revieve.API.show();
			});
		};
		var s = document.getElementsByTagName('script')[0];
		s.parentNode.insertBefore(rv, s);
	})();
	</script>
</body>
</html>