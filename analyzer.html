<!DOCTYPE html><!--  This site was created in Webflow. https://www.webflow.com  -->
<!--  Last Published: Tue Aug 22 2023 14:50:50 GMT+0000 (Coordinated Universal Time)  -->
<html data-wf-page="64d3b54288958279228a1414" data-wf-site="64d3b54288958279228a1401">
<head>
	<meta charset="utf-8">
	<title>ibp-sephora-brand-page</title>
	<meta content="width=device-width, initial-scale=1" name="viewport">
	<meta content="Webflow" name="generator">
	<link href="css/normalize.css" rel="stylesheet" type="text/css">
	<link href="css/webflow.css" rel="stylesheet" type="text/css">
	<link href="css/ibp-sephora-brand-page.webflow.css" rel="stylesheet" type="text/css">
	<script type="text/javascript">!function(o,c){var n=c.documentElement,t=" w-mod-";n.className+=t+"js",("ontouchstart"in o||o.DocumentTouch&&c instanceof DocumentTouch)&&(n.className+=t+"touch")}(window,document);</script>
	<link href="images/favicon.png" rel="shortcut icon" type="image/x-icon">
	<link href="images/webclip.png" rel="apple-touch-icon">
	<link rel="preload" as="image" href="/images/Bright--smooth-2000x2000-04.jpg">
	<link rel="preload" as="image" href="/images/Homepage-banner---mobile-01.jpg">
	<link rel="preload" as="image" href="/images/bronze-body-glow-01.jpg">
	<link rel="preload" as="image" href="/images/Bright_tight_1300x1300_11.webp">
	<link rel="preload" as="image" href="/images/Greenmachine_1350x1350_01.webp">
	<link rel="preload" as="image" href="/images/GI9qi1AiRfqTvskBBOTe_LBm8oGW2BUv9lEOY.png">
</head>
<body>
	<nav>
		<div class="div-block">
			<a href="https://www.sephora.com/brand/innbeauty-project" target="_blank" class="div-block-2 w-inline-block"><img src="images/ibp-logo.png" loading="lazy" sizes="180px" srcset="images/ibp-logo-p-500.png 500w, images/ibp-logo-p-800.png 800w, images/ibp-logo-p-1080.png 1080w, images/ibp-logo.png 1600w" alt=""></a>
		</div>
	</nav>
	<script src="https://d3e54v103j8qbb.cloudfront.net/js/jquery-3.5.1.min.dc5e7f18c8.js?site=64d3b54288958279228a1401" type="text/javascript" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
	<script src="js/webflow.js" type="text/javascript"></script>
	<script type="text/javascript">
		var revieveConfig = {
			partner_id: 'xElwp9MNeW',
			experienceId: 'experience demo',
			locale: 'en',
			env: 'test', // for test env. Change to prod for production deployment
			avoidCookies: false, // this is by default false and can be changed to true to avoid cookies
			// Set disableLauncherButton to true on the pages
			// where you want to hide the default advisor launcher button
			disableLauncherButton: true,
			onAddToCart: function(products) {
				// To be filled in by innbeauty
				if (Array.isArray(products)) {
					// Array means we got multiple products (add all to cart)
					console.log("User clicked add all cart. Adding all products to shopping cart.");
					console.log(products);
				} else {
					// Single object means we got one product (add to cart)
					console.log("User clicked add to cart. Adding the product to shopping cart.");
					console.log(products);
				}
			},
			onSendEmail: function(data) {
				return Revieve.API.getAdvisorData(data => {
					console.log('data', data);
				})
				let options = {
					method: 'POST',
					headers: {
						revision: '2022-10-17',
						'content-type': 'application/json'
					},
					body: JSON.stringify({
						data: {
							type: 'subscription',
							attributes: {
								// This object could contain all information you require to be used in Klaviyo
								// List ID to subscribe the profile to
								list_id: "TC6xUk",
								// This could be useful to segment the
								// traffic and to know from where the profile comes from
								custom_source: 'Inn Beauty',
								// The email of the profile
								email: 'help@innbeautyproject.com'
							}
						}
					})
				};
				fetch('https://a.klaviyo.com/client/subscriptions/?company_id=HEwgpW',
						options) //HEwgpW for testing
					.then(response => response)
					.then(response => console.log(response))
					.catch(err => console.error(err));
				let optionsII = {
					method: 'POST',
					headers: {
						accept: 'application/json',
						revision: '2022-10-17',
						'content-type': 'application/json'
					},
					body: JSON.stringify({
						data: {
							type: 'event',
							attributes: {
								profile: {
									email: data.email
								},
								metric: {
									name: 'viewed product'
								},
								time: new Date(),
								value: new Date().getTime(),
								unique_id: new Date().getTime()
							}
						}
					})
				};
				fetch('https://a.klaviyo.com/client/events/?company_id=HEwgpW', optionsII)
					.then(response => console.log(response))
					.catch(err => console.error(err));
				//console.log("user click on onsendemail"+ JSON.stringify(data));
			},
			onDisplayProducts: function(data) {
				Revieve.API.getAdvisorData(data => {
					const Properties = data;
					console.log('data', data);
				})
				let options = {
					method: 'POST',
					headers: {
						revision: '2025-02-26',
						'content-type': 'application/json'
					},
					body: JSON.stringify({
						data: {
							type: 'subscription',
							attributes: {
								profile: {
									data: {
										type: "profile",
										"attributes": {
											email: data.email,
											properties: Properties
										}
									}
								},
								custom_source: 'Revieve'
							},
							relationships: {
								list: {
									data: {
										type: "list",
										id: "TC6xUk"
									}
								}
							}
						}
					})
				};
				fetch('https://a.klaviyo.com/client/subscriptions/?company_id=HEwgpW',
						options)
					.then(response => response)
					.then(response => console.log(response))
					.catch(err => console.error(err));
				let optionsII = {
					method: 'POST',
					headers: {
						accept: 'application/json',
						revision: '2025-02-26',
						'content-type': 'application/json'
					},
					body: JSON.stringify({
						data: {
							type: 'event',
							attributes: {
								properties: Properties,
								metric: {
									data: {
										type: "metric",
										attributes: {
											name: 'viewed product'
										}
									}
								},
								profile: {
									data: {
										type: "profile",
										attributes: {
											email: data.email
										}
									}
								},
							}
						}
					})
				};
				fetch('https://a.klaviyo.com/client/events/?company_id=HEwgpW', optionsII)
					.then(response => console.log(response))
					.catch(err => console.error(err));
				//console.log("user click on onsendemail"+ JSON.stringify(data));
			},
			onClose: function() {
				// User closed modal. Here you could forward them to checkout if they had
				// added products (onAddToCart was called before).
				console.log('User clicked close');
			},
			onCheckout: function(data) {
				// User clicked the checkout button that is visible on results page
				// after adding one or more products to cart. Redirect to checkout page?
				console.log('User clicked checkout');
			},
			onClickProduct: function(product, source) {
				// To be filled in by innbeauty.
				console.log("User clicked info action.");
				console.log(product, source);
				var win = window.open(product.url, '_blank');
				win.focus();
			},
		};

		(function() {
			var rv = document.createElement('script');
			rv.src = 'https://cdn.revieve.com/revieve-plugin-v4/revieve-plugin-loader.js';
			rv.charset = 'utf-8';
			rv.type = 'text/javascript';
			rv.async = 'true';
					rv.onload = rv.onreadystatechange = function() {
				var rs = this.readyState;
				if (rs && rs != 'complete' && rs != 'loaded') return;
				Revieve.Init(revieveConfig, function() {
					// Comment out the below line if you want to open the modal
					// manually when user clicks a certain button or navigates
					// to certain page.
					Revieve.API.show();
				});
			};
			var s = document.getElementsByTagName('script')[0];
			s.parentNode.insertBefore(rv, s);
		})();
	</script>
</body>
</html>